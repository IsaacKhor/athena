{% extends "base.html" %}

{% block title %}{{course.code}} - {{course.title}}{% endblock %}

{% block header %}
  {{course.code}} - {{course.title}} (Section {{course.section}})
{% endblock %}

{% block breadcrumbs %}
<li><a href={% url 'grader:home' %}>Home</a></li>
<li class='active'>Course</li>
{% endblock %}

{% block content %}

  <h1>{{course.code}} - {{course.title}} (Section {{course.section}})</h1>
  
  {% if instructor_view %}
  <a class='btn btn-default btn-sm' href={% url 'grader:edit_course' course.id %}>
      <span class="glyphicon glyphicon-pencil"></span> Edit Course
  </a>
  {% endif %}

  <h2>Description</h2>
  {{course.desc}}

  <h2>Assignments</h2>

  {% if instructor_view %}
  <a class='btn btn-default btn-sm' href={% url 'grader:add_assgn' course.id %}>
      <span class="glyphicon glyphicon-plus"></span> Add Assignement
  </a>
  {% endif %}
  
  {% if futr_assgns|length == 0 and past_assgns|length == 0 %}
  There are no assignments listed for this course.
  {% endif %}
  
  {% if futr_assgns|length > 0 %}
  <h4>Open</h4>
  {% for a in futr_assgns %}
      <a href={% url 'grader:assignment' a.id %}>{{ a.code }}: {{a.title}}</a> ({{a.due_date}}) <br/>
  {% endfor %}
  {% endif %}
  
  {% if past_assgns|length > 0 %}
  <h4>Previous</h4>
  {% for a in past_assgns %}
      <a href={% url 'grader:assignment' a.id %}>{{ a.code }}: {{a.title}}</a> ({{a.due_date}}) <br/>
  {% endfor %}
  {% endif %}
  

  {% if instructor_view or ta_view %}
  <h2>Student{% if course.students.all|length > 1 %}s{% endif %}</h2>
  {% for s in course.students.all %}
      <li><a href='mailto:{{s.email}}'>{{s.first_name}} {{s.last_name}} &lt{{s.email}}&gt</a><br/></li>
  {% endfor %}
  {% endif %}
  
  
  <h2>Contacts</h2>
  
  <h4>Intsructor{% if course.instructors.all|length > 1 %}s{% endif %}</h4>
  {% for i in course.instructors.all %}
      <li><a href='mailto:{{i.email}}'>{{i.first_name}} {{i.last_name}} &lt{{i.email}}&gt</a><br/></li>
  {% endfor %}

  <h4>Teaching Assistant{% if course.tas.all|length > 1 %}s{% endif %}</h4>
  {% for t in course.tas.all %}
      <li><a href='mailto:{{t.email}}'>{{t.first_name}} {{t.last_name}} &lt{{t.email}}&gt</a><br/></li>
  {% endfor %}

{% endblock %}
